---
title: Einf√ºhrung in den Strawberry Communication Standard
description: Dies sollte dir eine allgemeine Vorstellung davon geben, worum es bei dem Strawberry Communication Standard geht
---

# Was ist das?
Das Strawberry Chat Kommunizierungssystem wird aktuell neu geschrieben.
Um das alte System vom neuen System zu unterscheiden zu k√∂nnen, f√ºhren wir das Strawberry Communication System ein (kurz stbm)
Dieses Kommunizierungssystem bildet einen Standard f√ºr Strawberry Chat und m√∂glicherweise f√ºr andere Projekte von Strawberry Foundations.

Aktuell haben wir 2 Hauptversionen von stbm.

Version 1 `(stbmv1)` ist eine "Legacy" Version und erh√§lt keine gr√∂√üeren Updates mehr. Au√üerdem bieten wir nur noch f√ºr eine begrenzte Zeit Support an.

Version 2 `(stbmv2)` ist eine neue, verbesserte Version unseres Kommunizierungssystems.
Diese verwendet JSON, um Nachrichten √ºber den Benutzern zu √ºbertragen.
Mit unserem neuen Kommunizierungsstandard k√∂nnen Nutzer nun ihre eigenen Message Builder erstellen und damit selber entscheiden wie eine Nachricht angezeigt sein soll,
unabh√§ngig davon wie der Server eigentlich die Nachrichten gesendet h√§tte.

Zus√§tzlich gibt es noch Version 2.1 `(stbmv2.1)` f√ºr Nachrichten-Proxying, diese Version ist aber aktuell nicht verf√ºgbar.


# Was? Wieso? Wie?
Du wunderst dich vielleicht und fragst dich was das √ºberhaupt ist? Naja, dies ist wie 2 Socket Instanzen miteinander Kommunizieren.
Dies wurde urspr√ºnglich f√ºr Strawberry Chat entwickelt um Daten zwischen Server und Client, wie zum Beispiel Nutzername, Badge und Nachrichten zu senden,
aber wir haben uns dazu entschieden, ein kleines Tutorial zu geben wie du dieses System auch in deinem Client implementieren kannst!

<Tip>JSON-Kommunikation (JSON-Communication) ist auch ein anderer Name f√ºr unser Strawberry Communication Standard v2 (`stbmv2`). [Hier](/german/stbchat/stbm) kannst du mehr dar√ºber erfahren</Tip>

# Die Idee
Das originale Konzept daf√ºr wurde auf unserem Projekteboard auf GitHub [GitHub](https://github.com/orgs/Strawberry-Foundations/projects/1?pane=issue&itemId=44311144) am 10. November 2023 gepostet.
Beachte das dies aktuell nur in Deutsch zur Verf√ºgung steht. 

# Beispielcode

<Info>Dies ist ein sehr einfaches Beispiel f√ºr JSON-Kommunikation welches in Strawberry Chat verwendet wird</Info>

<CodeGroup>

    ```json JSON
    {
        "message_type": "user_message", // Typ der Nachricht, meist user_message
        "username": "julian", // Der Nutzername sollte komplett kleingeschrieben werden und ohne Leerzeichen
        "nickname": "Julian The Great", // Der Nickname kann jede Art von UTF-8 Zeichen sowie Leerzeichen beinhalten
        "badge": "üëë", // Emoji
        "role_color": "\u001b[31m\u001b[1m", // Dieses verwendet ANSI Farben, das Beispiel hier zeigt ein Rot mit Bold
        "message": {
            "content": "Hello World!"
        }
    }
    ```

    ```python Python
    # Receive code of the client
    def receive(sock):
        while threadFlag:
            try:
                message = sock.recv(2048).decode('utf-8')

                try: message = conv_json_data(message)
                except: message = message

                if message:
                    try:
                        try: message_type = message["message_type"]
                        except: message_type = "unknown"

                        if message_type == "user_message":
                        username    = message["username"]
                        nickname    = message["nickname"]
                        badge       = badge_handler(message["badge"])
                        role_color  = message["role_color"]
                        message     = message["message"]["content"]

                        if nickname == username:
                            fmt = f"[{current_time()}] {role_color}{username}{badge}:{CRESET} {message}"
                        else:
                            fmt = f"[{current_time()}] {role_color}{nickname} (@{username.lower()}){badge}:{CRESET} {message}"

                        print(fmt)

                    else:
                        message     = message["message"]["content"]
                        print(f"[{current_time()}] {message}")

                except Exception as e:
                    time.sleep(0.05)
                    message         = message["message"]["content"]
                    print(f"[{current_time()}] {message}")

            else: break

        except Exception as e:
            if experimental_debug_mode: print(f"{Fore.RED + BOLD}{Str[lang]['ConnectionInterrupt']}{Fore.RESET + CRESET}")
    pass
    ```

</CodeGroup>

# Unterst√ºtzte Versionen in Strawberry Chat

<Warning>
    Dies gilt nur f√ºr Strawberry Chat, kein anderes Programm
</Warning>

Siehe Tabelle



|                     | v1.8.0 - v1.8.2 ![](https://img.shields.io/badge/Legacy-green) | v1.8.3 ![](https://img.shields.io/badge/Legacy-gray) | v1.9.0 ![](https://img.shields.io/badge/Stable-success) |
|---------------------|----------------------------------------------------------------|---------------------------------------------------------|--------------------------------------------------------|
| Standard `<=2.4.0`  | ‚úÖ                                                            | ‚úÖ                                                      | ‚ùå                                                    | 
| Standard `v2.5.0`   | ‚ùå                                                            | ‚ùå                                                      | ‚úÖ                                                    | 
| Standard `>=v2.5.1` | ‚úÖ (CM)                                                       | ‚úÖ (CM)                                                 | ‚úÖ (CM)                                               | 
| Lite `<=v1.0.1`     | ‚úÖ                                                            | ‚úÖ                                                      | ‚ùå                                                    | 
| Lite `>=v1.1.0`     | ‚ùå                                                            | ‚ùå                                                      | ‚úÖ                                                    | 
| Nano `<=v1.0.1`     | ‚úÖ                                                            | ‚úÖ                                                      | ‚ùå                                                    | 
| Nano `>=v1.1.0`     | ‚ùå                                                            | ‚ùå                                                      | ‚úÖ                                                    | 
| Berryjuice-pico     | ‚úÖ                                                            | ‚úÖ                                                      | ‚ùå                                                    | 

<Tip>
    ### Kompatiblit√§tsmodus (CM)
    Seit Client v2.5.1 haben wir ein Feature hinzugef√ºgt welches Nutzern erlaubt, sich mit alten Servern zu verbinden.
    Dies hei√üt Kompatiblit√§tsmodus. Um den Kompatiblit√§tsmodus zu aktivieren musst du entweder `compatibility_mode: true` zu deinem Legacy Servereintrag hinzuf√ºgen oder starte den Client mit dem `--compatibility-mode` Argument
</Tip>